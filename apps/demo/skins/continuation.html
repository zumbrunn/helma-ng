<% extends 'base.html' %>

<% subskin 'content' -------------------------------------------------------------------- %>
<% render <% skin %> %>

<% subskin 'start' %>

    <p>This is a little game to show off continuations support in Helma NG.
    All you'll have to do is answer a few easy questions.</p>

    <p><a href="<% forward %>">start</a></p>

    <p>What's special about this demo is that all pages are generated by
    one JavaScript function which is run only once, but resumed and suspended
    earch time a page is rendered. Local variables are stored inside the
    function when it is supsended, so no extra effort is required to 
    manage state between pages.</p>

    <% render 'list' %>

<% subskin 'mask' %>

    What is your <% input %>? <form method="post" action="<% forward %>">
    <input name="<% input %>" value="<% value %>">
    <input type="submit">
    </form>

    <p><a href="<% back %>">back</a> <a href="<% forward %>">forward</a></p>

    <% render 'list' %>

<% subskin 'result' %>

    Thanks for your collaboration. Your name is <% data.name %>,
    you love to eat <% "data.favorite food" %> and your favorite animal
    is <% "data.favorite animal" %>.

    <p><a href="<% back %>">back</a></p>

    <% render 'list' %>

<% subskin 'list'%>

    <% render 'item' on=<% data %>
        | prefix "<div style='color: gray;'>"
        | suffix "</div>"
    %>

<% subskin 'item' %>
   <div><% key %>: <% value %></div>
